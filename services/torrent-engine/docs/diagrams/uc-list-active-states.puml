@startuml
participant Client as C
participant "HTTP API" as H
participant "ListActiveStates UC" as U
participant "Engine (port)" as E

C -> H: GET /torrents/state?status=active
H -> U: ListActiveStates()
U -> E: ListActiveSessions()

loop for each session
  U -> E: GetSessionState(id)
  E --> U: state
end

U --> H: 200 OK (items)
H --> C: 200 OK
@enduml
